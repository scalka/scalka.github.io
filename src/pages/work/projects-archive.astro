---
import Base from "../../layouts/Base.astro";
import { site } from "../../data/site";
import { getCollection } from "astro:content";

const workEntries = await getCollection("work");
const archiveEntry = workEntries.find((entry) => entry.slug === "projects-archive");

if (!archiveEntry) {
  throw new Error("Missing projects archive content.");
}

const { Content } = await archiveEntry.render();
const pageTitle = archiveEntry.data.title ?? "Projects Archive";
---

<Base
  title={pageTitle}
  siteTitle={site.title}
  lang={site.language}
  footerText={site.footerText}
  socialLinks={site.hcard.social}
>
  <div class="main-container">
    <h1>{pageTitle}</h1>
    <Content />
  </div>
</Base>
